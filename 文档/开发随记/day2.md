一、逆向工程生成pojo、mapper（Lomback用不了）

二、写了一个JSONUtil，使用ObjectMapper,写了一个ResponseUtils，把结果写出到前端

三、写了一个JWT工具类

四、登录模块

​	前端流程：

​		用户输入用户名密码

​		Vue发送登录请求到后端

​		接收后端返回的token并存储

​		后续请求携带token进行验（router路由是验证）

​	后端流程：

​		接收登录请求

​		验证用户名密码

​		生成JWT token

​		返回token给前端

​		验证前端请求携带的token，决定是否要重新登录（拦截器）

五、注册（管理员专权）（之后再管理员页面做）

六、做角色权限，不同的功能模块对不同的角色开发

​		使用接口（拦截器拦截）时或者展示页面（页面加载时判断）时，进行角色判断

​		这个控制台页面由三部分组成，固定的页眉页脚、展示模块的变化的侧边导航栏，核心功能区域	

​		进行角色判断是决定显示多少导航项目，核心功能区域的显示问题



​		前端用户登录后缓存角色权限数据，每次跳转页面直接获取判断。

​		token上存储这个角色信息，自定义一个注解，在拦截器中反射到角色，判断要不要放行该控制器方法请求。

​			token：前端输入账号密码->登录->拦截->登录成功->创建token->返回给前端

​			1.token中包含role字段	Jwts.builder().claim("role", role)

​			2.后端不需要通过token获取角色，直接用登录者获取并缓存即可

​			3.后端自定义角色注解，拦截器通过注解决定是否放行

​			4.前端隐藏无权限的功能（导航上不可见）解析后保存在sessionStorage中，在导航页进行导航显示与否的判断

​			5.前端借助全局路由守卫禁止访问无权限的页面（先不做，因为要对每个页面进行角色规定）





明日计划：使用ElmentPlus稍微美化一下系统

​		针对admin角色，初步完成学生管理、教师管理、等表的管理操作

​			

今日总结

​	用逆向工程，很方便，但是我的Lomback用不了，不知道从什么时候就用不了了，修了好久没成功,不如不用。

​	主要写这个登录，本来计划用SpringSecurity来做这个登录和角色验证的，但是研究了半天，不得其法，最后还是自己来写，去实现登录和角色验证。

​	跨域问题修了半天，最后竟然是弃用SpringSecurity后没有及时删除相关依赖。

​	先研究了前后端请求响应的传送

​	登录流程不是很难，主要就是后端要生成token，存储到前端。

​	前端通过全局路由守卫拦截路由

​	生成token，用到JWT（io.jsonwebtoken.Jwts;），很方便

​	存储token用到sessionStorage，在一次会话中都有效

​	做角色验证，本来准备都在前端做的，就是请求发送时和页面加载时做验证，发现请求发送时给后端拦截器做更好，token中得包含role字段，前端可以解析得到，然后后端通过 拦截器 + 自定义注解 决定了那些请求允许被特定角色访问，防止直接通过地址栏访问

​	
